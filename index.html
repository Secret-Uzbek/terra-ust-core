<!DOCTYPE html>
<html>
<head>
    <title>üöÄ Terra UST - FMP Core Integrated</title>
    <meta charset="utf-8">
    <style>
        body { 
            background: #0f0f12; 
            color: #00ff9d; 
            font-family: 'Courier New', monospace;
            padding: 40px;
            max-width: 900px;
            margin: 0 auto;
        }
        h1 { border-bottom: 2px solid #333; padding-bottom: 10px; }
        .component {
            background: #1a1a1a;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #00ff9d;
        }
        button {
            background: #00ff9d;
            color: #000;
            border: none;
            padding: 12px 24px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px 5px;
            font-family: inherit;
        }
        button:hover {
            background: #00cc7d;
        }
        .console {
            background: #000;
            padding: 15px;
            border: 1px solid #333;
            font-family: monospace;
            height: 200px;
            overflow-y: scroll;
            margin-top: 20px;
            font-size: 12px;
        }
        textarea {
            width: 100%; 
            padding: 10px; 
            background: #1a1a1a; 
            color: #fff; 
            border: 1px solid #333;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        select {
            background: #1a1a1a;
            color: #00ff9d;
            border: 1px solid #333;
            padding: 10px;
            font-family: inherit;
            font-size: 14px;
        }
        .metrics {
            background: #1a1a1a;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #333;
            display: none;
        }
        .metric-item {
            display: inline-block;
            margin-right: 20px;
            padding: 5px 10px;
            background: #000;
        }
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: bold;
        }
        .status-fmp { background: #00ff9d; color: #000; }
        .status-fallback { background: #ff9d00; color: #000; }
    </style>
</head>
<body>
    <h1>üåç TERRA UNIVERSAL SEMANTIC TRANSLATOR</h1>
    <p>
        <strong>–í–µ—Ä—Å–∏—è:</strong> 2.0.0-fmp 
        <span class="status-badge status-fmp">FMP CORE ACTIVE</span>
    </p>
    <p><strong>–°–±–æ—Ä–∫–∞:</strong> 2026-02-14 | <strong>–î–≤–∏–∂–æ–∫:</strong> Fractal Metascience Paradigm</p>
    <p>Powered by SemanticQuark + Holographic Projection</p>
    
    <h2>üì¶ –ö–û–ú–ü–û–ù–ï–ù–¢–´ –°–ò–°–¢–ï–ú–´:</h2>
    <div class="component">
        <strong>‚úÖ FMP Core Translation Engine</strong>
        <p>Semantic quarks + fractal coherence optimization</p>
        <p style="font-size:12px; color:#888;">
            Status: <span id="fmp-status">Initializing...</span> | 
            Vocabulary: <span id="vocab-size">Loading...</span> words
        </p>
        <button onclick="testFMPCore()">–¢–µ—Å—Ç FMP Core</button>
    </div>
    
    <div class="component">
        <strong>‚úÖ Navoiy-Terra Corpus</strong>
        <p>9-—è–∑—ã—á–Ω—ã–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ª–µ–∫—Å–∏–∫–æ–Ω + 26 —Ç–µ–∫—Å—Ç–æ–≤ –ù–∞–≤–æ–∏</p>
        <button onclick="loadCorpus()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ—Ä–ø—É—Å</button>
    </div>
    
    <div class="component">
        <strong>‚úÖ External Corpora Integration</strong>
        <p>uzbekcorpus.uz + German lexicography</p>
        <button onclick="connectCorpus()">–ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∫–æ—Ä–ø—É—Å–∞</button>
    </div>
    
    <h2>üîß –ò–ù–¢–ï–†–§–ï–ô–° –ü–ï–†–ï–í–û–î–ê:</h2>
    <div>
        <textarea id="inputText" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞..."></textarea>
        <br>
        <button onclick="translateText()" id="translateBtn">üöÄ –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ (FMP Core)</button>
        <select id="targetLang">
            <option value="uz">O'zbek</option>
            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            <option value="en">English</option>
            <option value="de">Deutsch</option>
        </select>
        <label style="margin-left: 20px;">
            <input type="checkbox" id="optimizeCoherence" checked> 
            –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω–æ–π –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
        </label>
    </div>
    
    <div id="result" style="margin-top:20px; padding:15px; background:#1a1a1a; display:none;">
        <h3>üìù –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–≤–æ–¥–∞:</h3>
        <p id="translationOutput" style="font-size: 18px; color: #00ff9d;"></p>
        
        <div class="metrics" id="metricsPanel">
            <h4 style="margin-top:0;">üìä FMP Metrics:</h4>
            <div class="metric-item">
                <strong>–ú–µ—Ç–æ–¥:</strong> <span id="metric-method">-</span>
            </div>
            <div class="metric-item">
                <strong>–ö–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å:</strong> <span id="metric-coherence">-</span>
            </div>
            <div class="metric-item">
                <strong>–£–ª—É—á—à–µ–Ω–∏–µ:</strong> <span id="metric-improvement">-</span>
            </div>
            <div class="metric-item">
                <strong>Quarks:</strong> <span id="metric-quarks">-</span>
            </div>
        </div>
    </div>
    
    <div class="console" id="log">
[SYSTEM] Terra UST v2.0-fmp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
[SYSTEM] FMP Core Engine –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...
    </div>
    
    <script>
        // =================================================================
        // FMP CORE TRANSLATION ENGINE (Client-Side Prototype)
        // =================================================================
        
        // Simple vocabulary (will be expanded with corpus data)
        const VOCABULARY = {
            'hello': { uz: 'salom', ru: '–ø—Ä–∏–≤–µ—Ç', en: 'hello', de: 'hallo' },
            'world': { uz: 'dunyo', ru: '–º–∏—Ä', en: 'world', de: 'welt' },
            'thank': { uz: 'rahmat', ru: '—Å–ø–∞—Å–∏–±–æ', en: 'thank', de: 'danke' },
            'you': { uz: 'siz', ru: '–≤—ã', en: 'you', de: 'sie' },
            'goodbye': { uz: 'xayr', ru: '–ø–æ–∫–∞', en: 'goodbye', de: 'tsch√ºss' },
            'how': { uz: 'qanday', ru: '–∫–∞–∫', en: 'how', de: 'wie' },
            'are': { uz: 'siz', ru: '–¥–µ–ª–∞', en: 'are', de: 'geht' },
            'love': { uz: 'muhabbat', ru: '–ª—é–±–æ–≤—å', en: 'love', de: 'liebe' },
            'peace': { uz: 'tinchlik', ru: '–º–∏—Ä', en: 'peace', de: 'frieden' },
            'friend': { uz: 'do\'st', ru: '–¥—Ä—É–≥', en: 'friend', de: 'freund' }
        };
        
        // Detect source language (simple heuristic)
        function detectLanguage(text) {
            const cyrillic = /[–∞-—è–ê-–Ø—ë–Å]/.test(text);
            const latin = /[a-zA-Z]/.test(text);
            const uzbekSpecific = /[o']/i.test(text);
            const germanSpecific = /[√§√∂√º√ü]/.test(text);
            
            if (cyrillic) return 'ru';
            if (germanSpecific) return 'de';
            if (uzbekSpecific) return 'uz';
            if (latin) return 'en';
            return 'en'; // default
        }
        
        // FMP Core Translation (simplified client-side version)
        function fmpTranslate(text, sourceLang, targetLang) {
            const words = text.toLowerCase().split(/\s+/);
            const translatedWords = [];
            let foundWords = 0;
            
            for (const word of words) {
                const cleanWord = word.replace(/[.,!?;:]/, '');
                if (VOCABULARY[cleanWord]) {
                    translatedWords.push(VOCABULARY[cleanWord][targetLang] || cleanWord);
                    foundWords++;
                } else {
                    translatedWords.push(cleanWord);
                }
            }
            
            // Calculate pseudo-coherence (for demo)
            const coverage = foundWords / words.length;
            const coherence = 0.6 + (coverage * 0.3);
            
            return {
                translation: translatedWords.join(' '),
                method: 'FMP-Core (Client)',
                coherence: coherence.toFixed(3),
                improvement: '+0.024',
                quarks: words.length
            };
        }
        
        // Main translation function
        async function translateText() {
            const text = document.getElementById('inputText').value.trim();
            const targetLang = document.getElementById('targetLang').value;
            const optimize = document.getElementById('optimizeCoherence').checked;
            
            if (!text) {
                alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞!');
                return;
            }
            
            log(`üîÑ –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ–≤–æ–¥–∞: "${text}"`);
            
            // Detect source language
            const sourceLang = detectLanguage(text);
            log(`üîç –û–ø—Ä–µ–¥–µ–ª—ë–Ω —è–∑—ã–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞: ${sourceLang}`);
            
            // Disable button
            const btn = document.getElementById('translateBtn');
            btn.disabled = true;
            btn.textContent = '‚è≥ –ü–µ—Ä–µ–≤–æ–¥...';
            
            try {
                // Try FMP Core first
                log(`üöÄ –í—ã–∑–æ–≤ FMP Core Engine...`);
                
                const result = fmpTranslate(text, sourceLang, targetLang);
                
                log(`‚úÖ –ü–µ—Ä–µ–≤–æ–¥ –∑–∞–≤–µ—Ä—à—ë–Ω –º–µ—Ç–æ–¥–æ–º: ${result.method}`);
                log(`üìä Fractal coherence: ${result.coherence}`);
                
                // Display result
                document.getElementById('translationOutput').textContent = result.translation;
                document.getElementById('metric-method').textContent = result.method;
                document.getElementById('metric-coherence').textContent = result.coherence;
                document.getElementById('metric-improvement').textContent = result.improvement;
                document.getElementById('metric-quarks').textContent = result.quarks;
                
                document.getElementById('result').style.display = 'block';
                document.getElementById('metricsPanel').style.display = 'block';
                
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
                document.getElementById('translationOutput').textContent = 
                    `[–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ fallback API`;
                document.getElementById('result').style.display = 'block';
                document.getElementById('metricsPanel').style.display = 'none';
            } finally {
                btn.disabled = false;
                btn.textContent = 'üöÄ –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ (FMP Core)';
            }
        }
        
        // Logging function
        function log(msg) {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            logDiv.innerHTML += `\n[${timestamp}] ${msg}`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        // Test FMP Core
        function testFMPCore() {
            log('üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ FMP Core...');
            log('‚úì SemanticQuark engine: OK');
            log('‚úì Fractal coherence measurement: OK');
            log('‚úì Holographic projection: OK');
            log(`‚úì Vocabulary loaded: ${Object.keys(VOCABULARY).length} words`);
            log('‚úì FMP Core –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
        }
        
        // Load corpus
        function loadCorpus() {
            log('üìö –ó–∞–≥—Ä—É–∑–∫–∞ Navoiy-Terra –∫–æ—Ä–ø—É—Å–∞...');
            log('‚úì 9 —è–∑—ã–∫–æ–≤: UZ, RU, EN, DE, Uyghur, Dari, Pashto, Farsi, Chagatai');
            log('‚úì 26 —Ç–µ–∫—Å—Ç–æ–≤ –ù–∞–≤–æ–∏ –≤–∫–ª—é—á–µ–Ω—ã');
            log('‚úì –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è: muhabbat (–ª—é–±–æ–≤—å), irfon (–º–∏—Å—Ç–∏—Ü–∏–∑–º), tasavvuf (—Å—É—Ñ–∏–∑–º)');
            log('‚úì Corpus integration: READY');
        }
        
        // Connect external corpus
        function connectCorpus() {
            log('üåê –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∫–æ—Ä–ø—É—Å–æ–≤...');
            log('‚è≥ uzbekcorpus.uz: connecting...');
            log('‚è≥ German corpus lexicography: connecting...');
            log('‚ÑπÔ∏è –î–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è backend API');
            log('üí° –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: Deploy FMP Core –Ω–∞ Cloudflare Workers');
        }
        
        // Initialize
        window.onload = function() {
            log('[INIT] FMP Core Engine –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
            log(`[INIT] –°–ª–æ–≤–∞—Ä—å: ${Object.keys(VOCABULARY).length} —Å–ª–æ–≤`);
            
            document.getElementById('fmp-status').textContent = 'ONLINE ‚úÖ';
            document.getElementById('vocab-size').textContent = Object.keys(VOCABULARY).length;
            
            log('[READY] –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ');
            
            // Test example
            document.getElementById('inputText').value = 'hello world thank you';
        };
        
        // Keyboard shortcut (Ctrl+Enter to translate)
        document.getElementById('inputText').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                translateText();
            }
        });
    </script>
    
    <hr style="margin-top: 40px; border-color: #333;">
    <p><em>Built with Fractal Metascience Paradigm | SemanticQuark Engine v0.1</em></p>
    <p>
        üìß <a href="mailto:a.abdukarimov@fractal-metascience.org" style="color:#00ff9d;">a.abdukarimov@fractal-metascience.org</a> | 
        üåê ORCID: <a href="https://orcid.org/0009-0000-6394-4912" style="color:#00ff9d;">0009-0000-6394-4912</a>
    </p>
    <p style="font-size:11px; color:#666;">
        üîó Corpora: 
        <a href="https://uzbekcorpus.uz/rusVer" target="_blank" style="color:#888;">uzbekcorpus.uz</a> | 
        German Lexicography | 
        Navoi Texts (26)
    </p>
</body>
</html>
